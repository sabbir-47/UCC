\section{introduction}


The fast growth of internet technology and proliferation of Cloud services have multiplied data centers number in recent years. In 2016, data centers around the world consumed 416.2 ThW of electricity, which is significantly higher the UK's total consumption of about 300 ThW on the same year\footnote{\url{http://www.independent.co.uk/environment/global-warming-data-centres-to \\-consume-three-times-as-much-energy-in-next-decade-experts-warn-a6830086.html}}. Although, numerous state-of-the-art energy efficient techniques have been adopted by industry and academia, a recent report suggests that energy usage in data centers is expected to increase by 4\% until 2020, which will translate to higher carbon emission. Most of today's data centers consume grid tied brown energy, very few are partially powered by renewable energy. Therefore, energy efficiency alone is not going to reduce the
carbon footprint since energy consumption will continue to grow.
On the other hand, the ever increasing enthusiasm and consciousness of reducing energy consumption can lead towards smarter ways to consume energy in cloud data centers. While an efficient energy management technique in data center can reduce unnecessary use of brown energy and better utilize green energy without going to waste \cite{parasol}, \cite{sabbir}, smarter ways of consuming energy in the presence/absence of renewable/green energy by an application can further reduce carbon footprint.

 
%Rather, explicit/implicit integration of renewable energy to the data center  and adaptation of both application and infrastructure in the presence of renewable energy can be a complementary/integral
%measure along with state-of-the-art energy efficiency technique to reduce further carbon
%footprint. 

%based on green energy, infrastructure adaptation. write few lines. talk work from inigo.

Traditionally, data centers host heterogeneous applications, such as interactive and batch applications/jobs. Goiri et al. \cite{GreenSlot}, \cite{GreenHadoop} first proposed a green energy adaptive framework for batch job oriented tasks \emph{i.e.,} that facilitated the scheduling of these tasks to different times by respecting the deadline when green energy is available. On the contrary, interactive
applications possess lesser flexibility, i.e., it should react with
little to no latency, otherwise Quality of Service (QoS) can
be seriously impacted. To cope up with these limitations, we have proposed a green energy adaptive solution to create green energy awareness inside the application that inherits the capability to smartly use the available green energy having static amount of underlying resources \cite{cloudcom},\cite{tsc}.

But in a realistic cloud environment, resource requirement might exceed currently provisioned resources. In contrast, when lesser resources are required, de-provisioning of resources can help to reduce unnecessary energy consumption. Therefore, the capability to detect when resources are required/dispensable and react to it so as to keep performance at a targeted level while energy consumption can be minimized is required. Taking application reconfiguration decision in isolation with resource scaling policies may lead to performance degradation and inconsistency to the system. Hence, coordination between two different types of action is necessary.

Most of the work in the literature propose: (i) multiple autonomic loops in a coordinated manner to control cluster level resources (\emph{i.e.,} one loop for controlling DVFS, another loop for deciding scaling actions)\cite{server-cluster}, \cite{shi}; (ii) per-application local manager which requests to a central autonomic manager to tune the number of cpu core, memory and to change the number of VM's \cite{morin1}, \cite{morin2}; (iii) adaptive framework to coordinate between system level (DVFS) and application level (degrading quality) adaption to improve performance and power efficiency \cite{adaptcap}.

It is clearly visible that - synergy between application and infrastructure based on green energy availability is missing despite having elasticity capability in both layers. In response to the existing works, we propose a PaaS solution, named \emph{GPaaScaler} that inherits the capability to adapt both at \emph{application} and at \emph{infrastructure} level in facing to changing condition \emph{i.e.,} workload burst, performance degradation, quality of energy etc. Application adaptation is realized by dynamically re-configuring application's mode/service level on the fly based on performance and/or green energy availability, whereas infrastructure adaptation takes care of addition/removal of resources based on application's resource demand. We want to study the impact of application adaption (based on the presence/absence of green energy) on infrastructure to have a global view of energy consumption incurred by the application.
Furthermore, both adaption technique is built in separate modules and coordinated in a sequential manner. For example, when application's performance decreases due to heavy load, the PaaS solution first triggers adaptation to application by downgrading the functionality and invokes resource requests to infrastructure module. Followed by the invocation requests, infrastructure adaptation module analyzes and decides whether resources are going to be added or the request is to be ignored. We have tested our proposal at Grid'5000 test bed with a real life application, workload and energy profile to show that, when green energy aware adaptation is adopted, around 35\% brown energy consumption can be reduced compared to a baseline approach. By reducing brown energy consumption, ratio of green energy to brown energy can be increased and subsequently carbon footprint can be appreciably reduced.

The rest of the paper is organized as follows. 
Section 2 describes the GPaaScaler architecture. In Section 3,
several Application controllers and a generic Infrastructure controller are designed to investigate
their impacts on energy consumption and QoS properties
and Section 4 validate approach through extensive experiments.
Furthermore, in Section 5, we provide discussion based on results and observation. Section 6 describes the related and we conclude our work in Section 7.